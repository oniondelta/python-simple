
#讀入檔案
with open("input_single_word.txt",mode="r",encoding="utf-8") as in_s_file:
    cw_s=in_s_file.read()

with open("input_multiple_word_1.txt",mode="r",encoding="utf-8") as infile:
    cw1=infile.read()

with open("input_multiple_word_2.txt",mode="r",encoding="utf-8") as infile:
    cw2=infile.read()


# 合併三個 txt 檔案（一個純單字，一個詞句）
cw = cw_s + '\n' +cw1 + '\n' +cw2


import re

cw=re.sub(r"[#].*\n",r"\n",cw) #刪除句首井字註解
cw=re.sub(r"\t[0-9\.]+%?",r"",cw) #刪除句尾詞頻
cw=re.sub(r"\t[0-9\.]+%?$",r"",cw) #刪除句尾詞頻
cw=re.sub(r"(\n)+",r"\n",cw) #去掉空白行
cw=re.sub(r'[ ]',r'@', cw) #把空格轉成「@」，顯示和查詢較清晰

cw=cw.split('\n')

# 二字詞
cw=[re.sub(r'^(.)(.)\t([^@]+)[@]([^@]+)', r'\1\t\3\n\2\t\4', ii) for ii in cw]
# 三字詞
cw=[re.sub(r'^(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\4\n\2\t\5\n\3\t\6', ii) for ii in cw]
# 四字詞
cw=[re.sub(r'^(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\5\n\2\t\6\n\3\t\7\n\4\t\8', ii) for ii in cw]
# 五字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\6\n\2\t\7\n\3\t\8\n\4\t\9\n\5\t\10', ii) for ii in cw]
# 六字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\7\n\2\t\8\n\3\t\9\n\4\t\10\n\5\t\11\n\6\t\12', ii) for ii in cw]
# 7字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\8\n\2\t\9\n\3\t\10\n\4\t\11\n\5\t\12\n\6\t\13\n\7\t\14', ii) for ii in cw]
# 8字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\9\n\2\t\10\n\3\t\11\n\4\t\12\n\5\t\13\n\6\t\14\n\7\t\15\n\8\t\16', ii) for ii in cw]
# 9字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\10\n\2\t\11\n\3\t\12\n\4\t\13\n\5\t\14\n\6\t\15\n\7\t\16\n\8\t\17\n\9\t\18', ii) for ii in cw]
# 10字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\11\n\2\t\12\n\3\t\13\n\4\t\14\n\5\t\15\n\6\t\16\n\7\t\17\n\8\t\18\n\9\t\19\n\10\t\20', ii) for ii in cw]
# 11字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\12\n\2\t\13\n\3\t\14\n\4\t\15\n\5\t\16\n\6\t\17\n\7\t\18\n\8\t\19\n\9\t\20\n\10\t\21\n\11\t\22', ii) for ii in cw]
# 12字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\13\n\2\t\14\n\3\t\15\n\4\t\16\n\5\t\17\n\6\t\18\n\7\t\19\n\8\t\20\n\9\t\21\n\10\t\22\n\11\t\23\n\12\t\24', ii) for ii in cw]
# 13字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\14\n\2\t\15\n\3\t\16\n\4\t\17\n\5\t\18\n\6\t\19\n\7\t\20\n\8\t\21\n\9\t\22\n\10\t\23\n\11\t\24\n\12\t\25\n\13\t\26', ii) for ii in cw]
# 14字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\15\n\2\t\16\n\3\t\17\n\4\t\18\n\5\t\19\n\6\t\20\n\7\t\21\n\8\t\22\n\9\t\23\n\10\t\24\n\11\t\25\n\12\t\26\n\13\t\27\n\14\t\28', ii) for ii in cw]
# 15字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\16\n\2\t\17\n\3\t\18\n\4\t\19\n\5\t\20\n\6\t\21\n\7\t\22\n\8\t\23\n\9\t\24\n\10\t\25\n\11\t\26\n\12\t\27\n\13\t\28\n\14\t\29\n\15\t\30', ii) for ii in cw]
# 16字詞
cw=[re.sub(r'^(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)(.)\t([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)[@]([^@]+)', r'\1\t\17\n\2\t\18\n\3\t\19\n\4\t\20\n\5\t\21\n\6\t\22\n\7\t\23\n\8\t\24\n\9\t\25\n\10\t\26\n\11\t\27\n\12\t\28\n\13\t\29\n\14\t\30\n\15\t\31\n\16\t\32', ii) for ii in cw]

cw="\n".join(cw)
# print(cw)

#去除重複（字典方式，不變動順序）
cw=cw.split('\n')
def dictWay2(cw):
    d = {}
    for i in cw:
        d[i] = None
    return list(d.keys())
cw="\n".join(dictWay2(cw))

#輸出 .txt 檔案
with open("output_1_word.txt",mode="w",encoding="utf-8") as outfile:
    outfile.write(cw)
